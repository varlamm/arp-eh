import"./axios.7b768d2b.js";import"./moment.9709ab41.js";import"./guid.7b3dea7e.js";import"./lodash.8ab3583e.js";import{u as b,b as k}from"./vue-router.746ec05f.js";import{t as E,u as x,j as C,e as S,g as I}from"./main.f5ac513d.js";import{v as V}from"./vue-i18n.c6de3223.js";import{i as $,O as c,j as n,k as a,U as o,u as t,l as r,as as f,X as v,R as _}from"./@vue.8cc12e6e.js";const H={__name:"RecurringInvoiceIndexDropdown",props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:()=>{}}},setup(l){const y=l,g=E(),w=x(),D=C(),d=S(),{t:s}=V.useI18n(),h=b();k(),$("utils");async function B(i=null){D.openDialog({title:s("general.are_you_sure"),message:s("invoices.confirm_delete"),yesLabel:s("general.ok"),noLabel:s("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async u=>{u&&await g.deleteMultipleRecurringInvoices(i).then(e=>{e.data.success?(y.table&&y.table.refresh(),g.$patch(m=>{m.selectedRecurringInvoices=[],m.selectAllField=!1}),w.showNotification({type:"success",message:s("recurring_invoices.deleted_message",2)})):e.data.error&&w.showNotification({type:"error",message:e.data.message})})})}return(i,u)=>{const e=c("BaseIcon"),m=c("BaseButton"),p=c("BaseDropdownItem"),R=c("router-link"),N=c("BaseDropdown");return n(),a(N,{"content-loading":t(g).isFetchingViewData},{activator:o(()=>[t(h).name==="recurring-invoices.view"?(n(),a(m,{key:0,variant:"primary"},{default:o(()=>[r(e,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(n(),a(e,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:o(()=>[t(d).hasAbilities(t(I).EDIT_RECURRING_INVOICE)?(n(),a(R,{key:0,to:`/admin/recurring-invoices/${l.row.id}/edit`},{default:o(()=>[r(p,null,{default:o(()=>[r(e,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),f(" "+v(i.$t("general.edit")),1)]),_:1})]),_:1},8,["to"])):_("",!0),t(h).name!=="recurring-invoices.view"&&t(d).hasAbilities(t(I).VIEW_RECURRING_INVOICE)?(n(),a(R,{key:1,to:`recurring-invoices/${l.row.id}/view`},{default:o(()=>[r(p,null,{default:o(()=>[r(e,{name:"EyeIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),f(" "+v(i.$t("general.view")),1)]),_:1})]),_:1},8,["to"])):_("",!0),t(d).hasAbilities(t(I).DELETE_RECURRING_INVOICE)?(n(),a(p,{key:2,onClick:u[0]||(u[0]=j=>B(l.row.id))},{default:o(()=>[r(e,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),f(" "+v(i.$t("general.delete")),1)]),_:1})):_("",!0)]),_:1},8,["content-loading"])}}};export{H as _};
