import{a as $}from"./axios.7b768d2b.js";import{u as k,b as I}from"./vue-router.746ec05f.js";import{O as m,j as a,M as n,P as t,X as s,l as i,U as d,as as u,R as v,r as L,a as y,u as l,k as P}from"./@vue.8cc12e6e.js";const j={class:"bg-white shadow overflow-hidden rounded-lg mt-6"},C={class:"px-4 py-5 sm:px-6"},M={class:"text-lg leading-6 font-medium text-gray-900"},S={key:0,class:"border-t border-gray-200 px-4 py-5 sm:p-0"},H={class:"sm:divide-y sm:divide-gray-200"},N={class:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},R={class:"text-sm font-medium text-gray-500"},T={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},U={class:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},V={class:"text-sm font-medium text-gray-500"},D={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},F={class:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},O={class:"text-sm font-medium text-gray-500 capitalize"},q={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},z={class:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},A={class:"text-sm font-medium text-gray-500"},E={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},X={key:0,class:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},G={class:"text-sm font-medium text-gray-500"},J={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},K=["innerHTML"],Q={key:1,class:"w-full flex items-center justify-center p-5"},W={__name:"InvoiceInformationCard",props:{invoice:{type:[Object,null],required:!0}},setup(o){return(e,r)=>{const _=m("BaseInvoiceStatusBadge"),p=m("BaseFormatMoney"),g=m("BaseSpinner");return a(),n("div",j,[t("div",C,[t("h3",M,s(e.$t("invoices.invoice_information")),1)]),o.invoice?(a(),n("div",S,[t("dl",H,[t("div",N,[t("dt",R,s(e.$t("general.from")),1),t("dd",T,s(o.invoice.company.name),1)]),t("div",U,[t("dt",V,s(e.$t("general.to")),1),t("dd",D,s(o.invoice.customer.name),1)]),t("div",F,[t("dt",O,s(e.$t("invoices.paid_status").toLowerCase()),1),t("dd",q,[i(_,{status:o.invoice.paid_status,class:"px-3 py-1"},{default:d(()=>[u(s(o.invoice.paid_status),1)]),_:1},8,["status"])])]),t("div",z,[t("dt",A,s(e.$t("invoices.total")),1),t("dd",E,[i(p,{currency:o.invoice.currency,amount:o.invoice.total},null,8,["currency","amount"])])]),o.invoice.formatted_notes?(a(),n("div",X,[t("dt",G,s(e.$t("invoices.notes")),1),t("dd",J,[t("span",{innerHTML:o.invoice.formatted_notes},null,8,K)])])):v("",!0)])])):(a(),n("div",Q,[i(g,{class:"text-primary-500 h-10 w-10"})]))])}}},Y={class:"h-screen overflow-y-auto min-h-0"},Z=t("div",{class:"bg-gradient-to-r from-primary-500 to-primary-400 h-5"},null,-1),tt={class:"relative p-6 pb-28 px-4 md:px-6 w-full md:w-auto md:max-w-xl mx-auto"},et={class:"flex flex-col md:flex-row absolute md:relative bottom-2 left-0 px-4 md:px-0 w-full md:space-x-4 md:space-y-0 space-y-2"},st=["href"],ot={key:0,class:"flex items-center justify-center mt-4 text-gray-500 font-normal"},at={href:"https://craterapp.com",target:"_blank"},nt=["src"],lt={__name:"InvoicePublicPage",setup(o){let e=L(null);const r=k(),_=I();p();async function p(){let c=await $.get(`/customer/invoices/${r.params.hash}`);e.value=c.data.data}const g=y(()=>r.path+"?pdf");function f(){return new URL("/img/crater-logo-gray.png",self.location)}const x=y(()=>window.customer_logo?window.customer_logo:!1),w=y(()=>e.value?.invoice_number);function b(){_.push({name:"invoice.pay",params:{hash:r.params.hash,company:e.value.company.slug}})}return(c,it)=>{const h=m("BaseButton"),B=m("BasePageHeader");return a(),n("div",Y,[Z,t("div",tt,[i(B,{title:w.value||""},{actions:d(()=>[t("div",et,[t("a",{href:g.value,target:"_blank",class:"block w-full"},[i(h,{variant:"primary-outline",class:"justify-center w-full"},{default:d(()=>[u(s(c.$t("general.download_pdf")),1)]),_:1})],8,st),l(e)&&l(e).paid_status!=="PAID"&&l(e).payment_module_enabled?(a(),P(h,{key:0,variant:"primary",class:"justify-center",onClick:b},{default:d(()=>[u(s(c.$t("general.pay_invoice")),1)]),_:1})):v("",!0)])]),_:1},8,["title"]),i(W,{invoice:l(e)},null,8,["invoice"]),x.value?v("",!0):(a(),n("div",ot,[u(" Powered by "),t("a",at,[t("img",{src:f(),class:"h-4 ml-1 mb-1"},null,8,nt)])]))])])}}};export{lt as default};
