import{f as S,r as f,a as V,O as i,j as l,M as u,l as s,U as p,u as n,X as d,P as w,as as q,by as x}from"./@vue.8cc12e6e.js";import{d as M,c as g,r as N,e as P}from"./@vuelidate.c7422de1.js";import{v as j}from"./vue-i18n.c6de3223.js";import{u as C}from"./auth.f67c9755.js";import{u as D}from"./vue-router.746ec05f.js";import"./@intlify.0be1c2d8.js";import"./vue.a6ed3e81.js";import"./axios.7b768d2b.js";import"./main.f5ac513d.js";import"./v-tooltip.1cd7a91e.js";import"./vue-resize.0b8cd4b5.js";import"./@popperjs.940d197a.js";import"./pinia.32c02ade.js";import"./lodash.8ab3583e.js";import"./moment.9709ab41.js";import"./guid.7b3dea7e.js";import"./@headlessui.4523e0e1.js";import"./@vueuse.b6c5a1c1.js";import"./prettier.6e0a0647.js";import"./vue-flatpickr-component.30399bbe.js";import"./flatpickr.dff0933c.js";import"./@heroicons.aa650707.js";import"./v-money3.6f830de1.js";import"./maska.1121c2e3.js";const F=["onSubmit"],G={key:0},U={key:1},A={class:"mt-4 mb-4 text-sm"},pe={__name:"ForgotPassword",setup(E){const y=C(),{t:c}=j.useI18n(),$=D(),r=S({email:"",company:""}),v=f(!1),o=f(!1),b=V(()=>({email:{required:g.withMessage(c("validation.required"),N),email:g.withMessage(c("validation.email_incorrect"),P)}})),e=M(b,r);function h(a){if(e.value.$touch(),e.value.$invalid)return!0;o.value=!0;let t={...r,company:$.params.company};y.forgotPassword(t).then(m=>{o.value=!1}).catch(m=>{o.value=!1}),v.value=!0}return(a,t)=>{const m=i("BaseInput"),B=i("BaseInputGroup"),k=i("BaseButton"),I=i("router-link");return l(),u("form",{id:"loginForm",onSubmit:x(h,["prevent"])},[s(B,{error:n(e).email.$error&&n(e).email.$errors[0].$message,label:a.$t("login.enter_email"),class:"mb-4",required:""},{default:p(()=>[s(m,{modelValue:r.email,"onUpdate:modelValue":t[0]||(t[0]=_=>r.email=_),type:"email",name:"email",invalid:n(e).email.$error,onInput:t[1]||(t[1]=_=>n(e).email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),s(k,{loading:o.value,disabled:o.value,type:"submit",variant:"primary"},{default:p(()=>[v.value?(l(),u("div",U,d(a.$t("validation.not_yet")),1)):(l(),u("div",G,d(a.$t("validation.send_reset_link")),1))]),_:1},8,["loading","disabled"]),w("div",A,[s(I,{to:"login",class:"text-sm text-primary-400 hover:text-gray-700"},{default:p(()=>[q(d(a.$t("general.back_to_login")),1)]),_:1})])],40,F)}}};export{pe as default};
