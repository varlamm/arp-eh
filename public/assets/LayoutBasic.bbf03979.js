import{u as M}from"./auth.f67c9755.js";import{u as R,b as V}from"./vue-router.746ec05f.js";import{u as D}from"./global.b17b6368.js";import{f as I}from"./main.f5ac513d.js";import{v as O}from"./vue-i18n.c6de3223.js";import{e as z,f as F,g as T,i as X}from"./@heroicons.aa650707.js";import{M as E,R as G,X as H,n as P,o as W}from"./@headlessui.4523e0e1.js";import{r as Y,a as w,e as q,O as _,j as n,k as c,U as a,P as t,u as e,M as d,F as v,aW as x,g as b,as as u,X as l,l as s,R as J}from"./@vue.8cc12e6e.js";import{N as K}from"./NotificationRoot.6362508d.js";import"./axios.7b768d2b.js";import"./v-tooltip.1cd7a91e.js";import"./vue-resize.0b8cd4b5.js";import"./@popperjs.940d197a.js";import"./pinia.32c02ade.js";import"./lodash.8ab3583e.js";import"./@intlify.0be1c2d8.js";import"./vue.a6ed3e81.js";import"./@vuelidate.c7422de1.js";import"./moment.9709ab41.js";import"./guid.7b3dea7e.js";import"./@vueuse.b6c5a1c1.js";import"./prettier.6e0a0647.js";import"./vue-flatpickr-component.30399bbe.js";import"./flatpickr.dff0933c.js";import"./v-money3.6f830de1.js";import"./maska.1121c2e3.js";const Q={class:"mx-auto px-8"},Z={class:"flex justify-between h-16 w-full"},tt={class:"flex"},et={class:"shrink-0 flex items-center"},rt=["href"],ot=["src"],st={class:"hidden sm:-my-px sm:ml-6 sm:flex sm:space-x-8"},at={class:"hidden sm:ml-6 sm:flex sm:items-center"},nt=t("button",{type:"button",class:"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},null,-1),it=["src"],lt={class:"-mr-2 flex items-center sm:hidden"},ct=t("span",{class:"sr-only"},"Open main menu",-1),ut={class:"pt-2 pb-3 space-y-1"},dt={class:"pt-4 pb-3 border-t border-gray-200"},mt={class:"flex items-center px-4"},pt={class:"shrink-0"},ft=["src"],_t={class:"ml-3"},gt={class:"text-base font-medium text-gray-800"},ht={class:"text-sm font-medium text-gray-500"},yt=t("button",{type:"button",class:"ml-auto bg-white shrink-0 p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},null,-1),vt={class:"mt-3 space-y-1"},xt={__name:"TheSiteHeader",setup(N){const{t:m}=O.useI18n(),p=R(),o=D(),g=[{title:m("navigation.logout"),link:`/${o.companySlug}/customer/login`}],k=M(),$=V(),h=Y(""),S=w(()=>o.currentUser&&o.currentUser.avatar!==0?o.currentUser.avatar:A());function A(){return new URL("/img/default-avatar.jpg",self.location)}q(p,i=>{h.value=i.path},{immediate:!0});const U=w(()=>window.customer_logo?window.customer_logo:!1);function y(i){return p.path.indexOf(i)>-1}function L(){k.logout(o.companySlug).then(i=>{i&&$.push({name:"customer.login"})})}return(i,kt)=>{const f=_("router-link"),B=_("BaseDropdownItem"),j=_("BaseDropdown");return n(),c(e(W),{as:"nav",class:"bg-white shadow-sm fixed top-0 left-0 z-20 w-full"},{default:a(({open:C})=>[t("div",Q,[t("div",Z,[t("div",tt,[t("div",et,[t("a",{href:`/${e(o).companySlug}/customer/dashboard`,class:"float-none text-lg not-italic font-black tracking-wider text-white brand-main md:float-left font-base"},[U.value?(n(),d("img",{key:1,src:U.value,class:"h-6"},null,8,ot)):(n(),c(I,{key:0,class:"h-6"}))],8,rt)]),t("div",st,[(n(!0),d(v,null,x(e(o).mainMenu,r=>(n(),c(f,{key:r.title,to:`/${e(o).companySlug}${r.link}`,class:b([y(r.link)?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"])},{default:a(()=>[u(l(r.title),1)]),_:2},1032,["to","class"]))),128))])]),t("div",at,[nt,s(e(E),{as:"div",class:"ml-3 relative"},{default:a(()=>[s(j,{"width-class":"w-48"},{activator:a(()=>[s(e(G),{class:"bg-white flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:a(()=>[t("img",{class:"h-8 w-8 rounded-full",src:S.value,alt:""},null,8,it)]),_:1})]),default:a(()=>[s(f,{to:{name:"customer.profile"}},{default:a(()=>[s(B,null,{default:a(()=>[s(e(z),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),u(" "+l(i.$t("navigation.settings")),1)]),_:1})]),_:1},8,["to"]),s(B,{onClick:L},{default:a(()=>[s(e(F),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),u(" "+l(i.$t("navigation.logout")),1)]),_:1})]),_:1})]),_:1})]),t("div",lt,[s(e(H),{class:"bg-white inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:a(()=>[ct,C?(n(),c(e(X),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):(n(),c(e(T),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)])])]),s(e(P),{class:"sm:hidden"},{default:a(()=>[t("div",ut,[(n(!0),d(v,null,x(e(o).mainMenu,r=>(n(),c(f,{key:r.title,to:`/${e(o).companySlug}${r.link}`,class:b([y(r.link)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),"aria-current":r.current?"page":void 0},{default:a(()=>[u(l(r.title),1)]),_:2},1032,["to","class","aria-current"]))),128))]),t("div",dt,[t("div",mt,[t("div",pt,[t("img",{class:"h-10 w-10 rounded-full",src:S.value,alt:""},null,8,ft)]),t("div",_t,[t("div",gt,l(e(o).currentUser.title),1),t("div",ht,l(e(o).currentUser.email),1)]),yt]),t("div",vt,[(n(),d(v,null,x(g,r=>s(f,{key:r.title,to:r.link,class:b([y(r.link)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"])},{default:a(()=>[u(l(r.title),1)]),_:2},1032,["to","class"])),64))])])]),_:1})]),_:1})}}},bt={key:0,class:"h-full"},wt={class:"mt-16 pb-16 h-screen overflow-y-auto min-h-0"},Jt={__name:"LayoutBasic",setup(N){const m=D(),p=R(),o=w(()=>m.isAppLoaded);g();async function g(){await m.bootstrap(p.params.company)}return(k,$)=>{const h=_("router-view");return o.value?(n(),d("div",bt,[s(K),s(xt),t("main",wt,[s(h)])])):J("",!0)}}};export{Jt as default};
