import{r as w,a as $,O as l,j as d,M,l as i,U as m,u as e,k as y,z as _,P as b,as as B,X as I,by as N}from"./@vue.8cc12e6e.js";import{a as E}from"./axios.7b768d2b.js";import{u as L,a as U}from"./main.f5ac513d.js";import{b as j}from"./vue-router.746ec05f.js";import{c,r as h,e as G,d as O}from"./@vuelidate.c7422de1.js";import{v as P}from"./vue-i18n.c6de3223.js";import"./v-tooltip.1cd7a91e.js";import"./vue-resize.0b8cd4b5.js";import"./@popperjs.940d197a.js";import"./pinia.32c02ade.js";import"./lodash.8ab3583e.js";import"./@intlify.0be1c2d8.js";import"./vue.a6ed3e81.js";import"./moment.9709ab41.js";import"./guid.7b3dea7e.js";import"./@headlessui.4523e0e1.js";import"./@vueuse.b6c5a1c1.js";import"./prettier.6e0a0647.js";import"./vue-flatpickr-component.30399bbe.js";import"./flatpickr.dff0933c.js";import"./@heroicons.aa650707.js";import"./v-money3.6f830de1.js";import"./maska.1121c2e3.js";const R=["onSubmit"],T={class:"mt-5 mb-8"},z={class:"mb-4"},fe={__name:"Login",setup(A){const k=L(),a=U(),{t:p}=P.useI18n(),V=j(),u=w(!1);let o=w(!1);const S={email:{required:c.withMessage(p("validation.required"),h),email:c.withMessage(p("validation.email_incorrect"),G)},password:{required:c.withMessage(p("validation.required"),h)}},r=O(S,$(()=>a.loginData)),x=$(()=>o.value?"text":"password");async function q(){if(E.defaults.withCredentials=!0,r.value.$touch(),r.value.$invalid)return!0;u.value=!0;try{u.value=!0,await a.login(a.loginData),V.push("/admin/dashboard"),k.showNotification({type:"success",message:"Logged in successfully."})}catch{u.value=!1}}return(n,t)=>{const f=l("BaseInput"),g=l("BaseInputGroup"),v=l("BaseIcon"),D=l("router-link"),C=l("BaseButton");return d(),M("form",{id:"loginForm",class:"mt-12 text-left",onSubmit:N(q,["prevent"])},[i(g,{error:e(r).email.$error&&e(r).email.$errors[0].$message,label:n.$t("login.email"),class:"mb-4",required:""},{default:m(()=>[i(f,{modelValue:e(a).loginData.email,"onUpdate:modelValue":t[0]||(t[0]=s=>e(a).loginData.email=s),invalid:e(r).email.$error,focus:"",type:"email",name:"email",onInput:t[1]||(t[1]=s=>e(r).email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),i(g,{error:e(r).password.$error&&e(r).password.$errors[0].$message,label:n.$t("login.password"),class:"mb-4",required:""},{default:m(()=>[i(f,{modelValue:e(a).loginData.password,"onUpdate:modelValue":t[4]||(t[4]=s=>e(a).loginData.password=s),invalid:e(r).password.$error,type:x.value,name:"password",onInput:t[5]||(t[5]=s=>e(r).password.$touch())},{right:m(()=>[e(o)?(d(),y(v,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:t[2]||(t[2]=s=>_(o)?o.value=!e(o):o=!e(o))})):(d(),y(v,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:t[3]||(t[3]=s=>_(o)?o.value=!e(o):o=!e(o))}))]),_:1},8,["modelValue","invalid","type"])]),_:1},8,["error","label"]),b("div",T,[b("div",z,[i(D,{to:"forgot-password",class:"text-sm text-primary-400 hover:text-gray-700"},{default:m(()=>[B(I(n.$t("login.forgot_password")),1)]),_:1})])]),i(C,{loading:u.value,type:"submit"},{default:m(()=>[B(I(n.$t("login.login")),1)]),_:1},8,["loading"])],40,R)}}};export{fe as default};
