import{v as M}from"./vue-i18n.c6de3223.js";import{u as b}from"./payment.333e3a22.js";import{j as I,u as S,e as k,c as P}from"./main.f5ac513d.js";import{_ as C}from"./PaymentModeModal.cc54ef98.js";import{u as x}from"./vue-router.746ec05f.js";import{i as $,O as m,j as u,k as v,U as a,u as N,l as t,as as D,X as w,r as j,a as z,M as T,g as F,F as O}from"./@vue.8cc12e6e.js";import"./@intlify.0be1c2d8.js";import"./vue.a6ed3e81.js";import"./axios.7b768d2b.js";import"./moment.9709ab41.js";import"./pinia.32c02ade.js";import"./v-tooltip.1cd7a91e.js";import"./vue-resize.0b8cd4b5.js";import"./@popperjs.940d197a.js";import"./lodash.8ab3583e.js";import"./@vuelidate.c7422de1.js";import"./guid.7b3dea7e.js";import"./@headlessui.4523e0e1.js";import"./@vueuse.b6c5a1c1.js";import"./prettier.6e0a0647.js";import"./vue-flatpickr-component.30399bbe.js";import"./flatpickr.dff0933c.js";import"./@heroicons.aa650707.js";import"./v-money3.6f830de1.js";import"./maska.1121c2e3.js";const H={__name:"PaymentModeIndexDropdown",props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:null}},setup(p){const i=p,y=I();S();const{t:s}=M.useI18n(),o=b(),_=x();k();const f=P();$("utils");function g(e){o.fetchPaymentMode(e),f.openModal({title:s("settings.payment_modes.edit_payment_mode"),componentName:"PaymentModeModal",refreshData:i.loadData&&i.loadData,size:"sm"})}function B(e){y.openDialog({title:s("general.are_you_sure"),message:s("settings.payment_modes.payment_mode_confirm_delete"),yesLabel:s("general.ok"),noLabel:s("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async r=>{r&&(await o.deletePaymentMode(e),i.loadData&&i.loadData())})}return(e,r)=>{const n=m("BaseIcon"),d=m("BaseButton"),l=m("BaseDropdownItem"),h=m("BaseDropdown");return u(),v(h,null,{activator:a(()=>[N(_).name==="paymentModes.view"?(u(),v(d,{key:0,variant:"primary"},{default:a(()=>[t(n,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(u(),v(n,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:a(()=>[t(l,{onClick:r[0]||(r[0]=c=>g(p.row.id))},{default:a(()=>[t(n,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),D(" "+w(e.$t("general.edit")),1)]),_:1}),t(l,{onClick:r[1]||(r[1]=c=>B(p.row.id))},{default:a(()=>[t(n,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),D(" "+w(e.$t("general.delete")),1)]),_:1})]),_:1})}}},de={__name:"PaymentsModeSetting",setup(p){const i=P();I();const y=b(),{t:s}=M.useI18n(),o=j(null),_=z(()=>[{key:"name",label:s("settings.payment_modes.mode_name"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"actions",label:"",tdClass:"text-right text-sm font-medium",sortable:!1}]);async function f(){o.value&&o.value.refresh()}async function g({page:e,filter:r,sort:n}){let d={orderByField:n.fieldName||"created_at",orderBy:n.order||"desc",page:e},l=await y.fetchPaymentModes(d);return{data:l.data.data,pagination:{totalPages:l.data.meta.last_page,currentPage:e,totalCount:l.data.meta.total,limit:5}}}function B(){i.openModal({title:s("settings.payment_modes.add_payment_mode"),componentName:"PaymentModeModal",refreshData:o.value&&o.value.refresh,size:"sm"})}return(e,r)=>{const n=m("BaseIcon"),d=m("BaseButton"),l=m("BaseTable"),h=m("BaseSettingCard");return u(),T(O,null,[t(C),t(h,{title:e.$t("settings.payment_modes.title"),description:e.$t("settings.payment_modes.description")},{action:a(()=>[t(d,{type:"submit",variant:"primary-outline",onClick:B},{left:a(c=>[t(n,{class:F(c.class),name:"PlusIcon"},null,8,["class"])]),default:a(()=>[D(" "+w(e.$t("settings.payment_modes.add_payment_mode")),1)]),_:1})]),default:a(()=>[t(l,{ref_key:"table",ref:o,data:g,columns:_.value,class:"mt-16"},{"cell-actions":a(({row:c})=>[t(H,{row:c.data,table:o.value,"load-data":f},null,8,["row","table"])]),_:1},8,["columns"])]),_:1},8,["title","description"])],64)}}};export{de as default};
