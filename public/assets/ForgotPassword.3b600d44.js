import{f as w,r as f,O as r,j as l,M as m,l as s,U as u,u as n,X as p,P as I,as as S,by as V}from"./@vue.8cc12e6e.js";import{a as x}from"./axios.7b768d2b.js";import{c as _,r as M,e as N,d as q}from"./@vuelidate.c7422de1.js";import{u as j,h as C}from"./main.f5ac513d.js";import{v as D}from"./vue-i18n.c6de3223.js";import"./v-tooltip.1cd7a91e.js";import"./vue-resize.0b8cd4b5.js";import"./@popperjs.940d197a.js";import"./vue-router.746ec05f.js";import"./pinia.32c02ade.js";import"./lodash.8ab3583e.js";import"./@intlify.0be1c2d8.js";import"./vue.a6ed3e81.js";import"./moment.9709ab41.js";import"./guid.7b3dea7e.js";import"./@headlessui.4523e0e1.js";import"./@vueuse.b6c5a1c1.js";import"./prettier.6e0a0647.js";import"./vue-flatpickr-component.30399bbe.js";import"./flatpickr.dff0933c.js";import"./@heroicons.aa650707.js";import"./v-money3.6f830de1.js";import"./maska.1121c2e3.js";const E=["onSubmit"],F={key:0},G={key:1},P={class:"mt-4 mb-4 text-sm"},me={__name:"ForgotPassword",setup(U){const g=j(),{t:d}=D.useI18n(),i=w({email:""}),c=f(!1),o=f(!1),y={email:{required:_.withMessage(d("validation.required"),M),email:_.withMessage(d("validation.email_incorrect"),N)}},t=q(y,i);async function h(a){if(t.value.$touch(),!t.value.$invalid)try{o.value=!0,(await x.post("/api/v1/auth/password/email",i)).data&&g.showNotification({type:"success",message:"Mail sent successfully"}),c.value=!0,o.value=!1}catch(e){C(e),o.value=!1}}return(a,e)=>{const $=r("BaseInput"),b=r("BaseInputGroup"),B=r("BaseButton"),k=r("router-link");return l(),m("form",{id:"loginForm",onSubmit:V(h,["prevent"])},[s(b,{error:n(t).email.$error&&n(t).email.$errors[0].$message,label:a.$t("login.enter_email"),class:"mb-4",required:""},{default:u(()=>[s($,{modelValue:i.email,"onUpdate:modelValue":e[0]||(e[0]=v=>i.email=v),invalid:n(t).email.$error,focus:"",type:"email",name:"email",onInput:e[1]||(e[1]=v=>n(t).email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),s(B,{loading:o.value,disabled:o.value,type:"submit",variant:"primary"},{default:u(()=>[c.value?(l(),m("div",G,p(a.$t("validation.not_yet")),1)):(l(),m("div",F,p(a.$t("validation.send_reset_link")),1))]),_:1},8,["loading","disabled"]),I("div",P,[s(k,{to:"/login",class:"text-sm text-primary-400 hover:text-gray-700"},{default:u(()=>[S(p(a.$t("general.back_to_login")),1)]),_:1})])],40,E)}}};export{me as default};
