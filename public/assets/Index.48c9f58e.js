import{f as V,r as k,a as B,e as j,o as L,O as m,j as I,M as F,P as c,l as a,U as i,u as G,as as W,X as x,by as N,k as J,g as K}from"./@vue.8cc12e6e.js";import{h as o}from"./moment.9709ab41.js";import{d as q,b as E}from"./main.f5ac513d.js";import{v as H}from"./vue-i18n.c6de3223.js";import"./v-tooltip.1cd7a91e.js";import"./vue-resize.0b8cd4b5.js";import"./@popperjs.940d197a.js";import"./axios.7b768d2b.js";import"./vue-router.746ec05f.js";import"./pinia.32c02ade.js";import"./lodash.8ab3583e.js";import"./@intlify.0be1c2d8.js";import"./vue.a6ed3e81.js";import"./@vuelidate.c7422de1.js";import"./guid.7b3dea7e.js";import"./@headlessui.4523e0e1.js";import"./@vueuse.b6c5a1c1.js";import"./prettier.6e0a0647.js";import"./vue-flatpickr-component.30399bbe.js";import"./flatpickr.dff0933c.js";import"./@heroicons.aa650707.js";import"./v-money3.6f830de1.js";import"./maska.1121c2e3.js";const Z={class:"grid gap-8 md:grid-cols-12 pt-10"},ee={class:"col-span-8 md:col-span-4"},te={class:"flex flex-col my-6 lg:space-x-3 lg:flex-row"},ae=c("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1),oe={class:"col-span-8"},re=["src"],ne={__name:"SalesReports",setup(U){const{t:v}=H.useI18n(),h=q();h.downloadReport=$;const l=V([{label:v("dateRange.today"),key:"Today"},{label:v("dateRange.this_week"),key:"This Week"},{label:v("dateRange.this_month"),key:"This Month"},{label:v("dateRange.this_quarter"),key:"This Quarter"},{label:v("dateRange.this_year"),key:"This Year"},{label:v("dateRange.previous_week"),key:"Previous Week"},{label:v("dateRange.previous_month"),key:"Previous Month"},{label:v("dateRange.previous_quarter"),key:"Previous Quarter"},{label:v("dateRange.previous_year"),key:"Previous Year"},{label:v("dateRange.custom"),key:"Custom"}]),M=k(l[2]),r=k(["By Customer","By Item"]),b=k("By Customer");let D=k(new Date),Y=k(null),e=k(null),g=k(null),n=V({from_date:o().startOf("month").format("YYYY-MM-DD").toString(),to_date:o().endOf("month").format("YYYY-MM-DD").toString()});const O=E(),d=B(()=>Y.value),u=B(()=>O.selectedCompany),T=B(()=>`${e.value}?from_date=${o(n.from_date).format("YYYY-MM-DD")}&to_date=${o(n.to_date).format("YYYY-MM-DD")}`),P=B(()=>`${g.value}?from_date=${o(n.from_date).format("YYYY-MM-DD")}&to_date=${o(n.to_date).format("YYYY-MM-DD")}`);j(D,p=>{n.from_date=o(p).startOf("year").toString(),n.to_date=o(p).endOf("year").toString()}),L(()=>{e.value=`/reports/sales/customers/${u.value.unique_hash}`,g.value=`/reports/sales/items/${u.value.unique_hash}`,s()});function f(p,y){return o()[p](y).format("YYYY-MM-DD")}function R(p,y){return o().subtract(1,y)[p](y).format("YYYY-MM-DD")}function t(){switch(M.value.key){case"Today":n.from_date=o().format("YYYY-MM-DD"),n.to_date=o().format("YYYY-MM-DD");break;case"This Week":n.from_date=f("startOf","isoWeek"),n.to_date=f("endOf","isoWeek");break;case"This Month":n.from_date=f("startOf","month"),n.to_date=f("endOf","month");break;case"This Quarter":n.from_date=f("startOf","quarter"),n.to_date=f("endOf","quarter");break;case"This Year":n.from_date=f("startOf","year"),n.to_date=f("endOf","year");break;case"Previous Week":n.from_date=R("startOf","isoWeek"),n.to_date=R("endOf","isoWeek");break;case"Previous Month":n.from_date=R("startOf","month"),n.to_date=R("endOf","month");break;case"Previous Quarter":n.from_date=R("startOf","quarter"),n.to_date=R("endOf","quarter");break;case"Previous Year":n.from_date=R("startOf","year"),n.to_date=R("endOf","year");break}}async function s(){return b.value==="By Customer"?(Y.value=T.value,!0):(Y.value=P.value,!0)}async function C(){let p=await w();return window.open(d.value,"_blank"),p}function w(){return b.value==="By Customer"?(Y.value=T.value,!0):(Y.value=P.value,!0)}function $(){if(!w())return!1;window.open(d.value+"&download=true"),setTimeout(()=>b.value==="By Customer"?(Y.value=T.value,!0):(Y.value=P.value,!0),200)}return(p,y)=>{const _=m("BaseMultiselect"),Q=m("BaseInputGroup"),z=m("BaseDatePicker"),X=m("BaseButton"),A=m("BaseIcon");return I(),F("div",Z,[c("div",ee,[a(Q,{label:p.$t("reports.sales.date_range"),class:"col-span-12 md:col-span-8"},{default:i(()=>[a(_,{modelValue:M.value,"onUpdate:modelValue":[y[0]||(y[0]=S=>M.value=S),t],options:l,"value-prop":"key","track-by":"key",label:"label",object:""},null,8,["modelValue","options"])]),_:1},8,["label"]),c("div",te,[a(Q,{label:p.$t("reports.sales.from_date")},{default:i(()=>[a(z,{modelValue:G(n).from_date,"onUpdate:modelValue":y[1]||(y[1]=S=>G(n).from_date=S)},null,8,["modelValue"])]),_:1},8,["label"]),ae,a(Q,{label:p.$t("reports.sales.to_date")},{default:i(()=>[a(z,{modelValue:G(n).to_date,"onUpdate:modelValue":y[2]||(y[2]=S=>G(n).to_date=S)},null,8,["modelValue"])]),_:1},8,["label"])]),a(Q,{label:p.$t("reports.sales.report_type"),class:"col-span-12 md:col-span-8"},{default:i(()=>[a(_,{modelValue:b.value,"onUpdate:modelValue":[y[3]||(y[3]=S=>b.value=S),s],options:r.value,placeholder:p.$t("reports.sales.report_type"),class:"mt-1"},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"]),a(X,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:N(w,["prevent"])},{default:i(()=>[W(x(p.$t("reports.update_report")),1)]),_:1},8,["onClick"])]),c("div",oe,[c("iframe",{src:d.value,class:"hidden w-full h-screen border-gray-100 border-solid rounded md:flex"},null,8,re),c("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:C},[a(A,{name:"DocumentTextIcon",class:"h-5 mr-2"}),c("span",null,x(p.$t("reports.view_pdf")),1)])])])}}},se={class:"grid gap-8 md:grid-cols-12 pt-10"},le={class:"col-span-8 md:col-span-4"},de={class:"flex flex-col mt-6 lg:space-x-3 lg:flex-row"},ue=c("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1),ie={class:"col-span-8"},me=["src"],ce={__name:"ExpensesReport",setup(U){const v=q(),h=E(),{t:l}=H.useI18n();v.downloadReport=R;const M=V([{label:l("dateRange.today"),key:"Today"},{label:l("dateRange.this_week"),key:"This Week"},{label:l("dateRange.this_month"),key:"This Month"},{label:l("dateRange.this_quarter"),key:"This Quarter"},{label:l("dateRange.this_year"),key:"This Year"},{label:l("dateRange.previous_week"),key:"Previous Week"},{label:l("dateRange.previous_month"),key:"Previous Month"},{label:l("dateRange.previous_quarter"),key:"Previous Quarter"},{label:l("dateRange.previous_year"),key:"Previous Year"},{label:l("dateRange.custom"),key:"Custom"}]),r=k(M[2]);let b=k(new Date),D=k(null),Y=k(null);const e=V({from_date:o().startOf("month").toString(),to_date:o().endOf("month").toString()}),g=B(()=>D.value),n=B(()=>h.selectedCompany),O=B(()=>`${Y.value}?from_date=${o(e.from_date).format("YYYY-MM-DD")}&to_date=${o(e.to_date).format("YYYY-MM-DD")}`);L(()=>{Y.value=`/reports/expenses/${n.value.unique_hash}`,D.value=O.value}),j(()=>b,t=>{e.from_date=o(t).startOf("year").toString(),e.to_date=o(t).endOf("year").toString()});function d(t,s){return o()[t](s).format("YYYY-MM-DD")}function u(t,s){return o().subtract(1,s)[t](s).format("YYYY-MM-DD")}function T(){switch(r.value.key){case"Today":e.from_date=o().format("YYYY-MM-DD"),e.to_date=o().format("YYYY-MM-DD");break;case"This Week":e.from_date=d("startOf","isoWeek"),e.to_date=d("endOf","isoWeek");break;case"This Month":e.from_date=d("startOf","month"),e.to_date=d("endOf","month");break;case"This Quarter":e.from_date=d("startOf","quarter"),e.to_date=d("endOf","quarter");break;case"This Year":e.from_date=d("startOf","year"),e.to_date=d("endOf","year");break;case"Previous Week":e.from_date=u("startOf","isoWeek"),e.to_date=u("endOf","isoWeek");break;case"Previous Month":e.from_date=u("startOf","month"),e.to_date=u("endOf","month");break;case"Previous Quarter":e.from_date=u("startOf","quarter"),e.to_date=u("endOf","quarter");break;case"Previous Year":e.from_date=u("startOf","year"),e.to_date=u("endOf","year");break}}async function P(){let t=await f();return window.open(g.value,"_blank"),t}function f(){return D.value=O.value,!0}function R(){f(),window.open(g.value+"&download=true"),setTimeout(()=>{D.value=O.value},200)}return(t,s)=>{const C=m("BaseMultiselect"),w=m("BaseInputGroup"),$=m("BaseDatePicker"),p=m("BaseButton"),y=m("BaseIcon");return I(),F("div",se,[c("div",le,[a(w,{label:t.$t("reports.sales.date_range"),class:"col-span-12 md:col-span-8"},{default:i(()=>[a(C,{modelValue:r.value,"onUpdate:modelValue":[s[0]||(s[0]=_=>r.value=_),T],options:M,"value-prop":"key","track-by":"key",label:"label",object:""},null,8,["modelValue","options"])]),_:1},8,["label"]),c("div",de,[a(w,{label:t.$t("reports.expenses.from_date")},{default:i(()=>[a($,{modelValue:e.from_date,"onUpdate:modelValue":s[1]||(s[1]=_=>e.from_date=_)},null,8,["modelValue"])]),_:1},8,["label"]),ue,a(w,{label:t.$t("reports.expenses.to_date")},{default:i(()=>[a($,{modelValue:e.to_date,"onUpdate:modelValue":s[2]||(s[2]=_=>e.to_date=_)},null,8,["modelValue"])]),_:1},8,["label"])]),a(p,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:N(f,["prevent"])},{default:i(()=>[W(x(t.$t("reports.update_report")),1)]),_:1},8,["onClick"])]),c("div",ie,[c("iframe",{src:g.value,class:"hidden w-full h-screen border-gray-100 border-solid rounded md:flex"},null,8,me),c("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500 cursor-pointer",onClick:P},[a(y,{name:"DocumentTextIcon",class:"h-5 mr-2"}),c("span",null,x(t.$t("reports.view_pdf")),1)])])])}}},pe={class:"grid gap-8 md:grid-cols-12 pt-10"},fe={class:"col-span-8 md:col-span-4"},_e={class:"flex flex-col mt-6 lg:space-x-3 lg:flex-row"},be=c("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1),ye={class:"col-span-8"},ke=["src"],ve={__name:"ProfitLossReport",setup(U){const v=q(),h=E(),{t:l}=H.useI18n();v.downloadReport=R;const M=V([{label:l("dateRange.today"),key:"Today"},{label:l("dateRange.this_week"),key:"This Week"},{label:l("dateRange.this_month"),key:"This Month"},{label:l("dateRange.this_quarter"),key:"This Quarter"},{label:l("dateRange.this_year"),key:"This Year"},{label:l("dateRange.previous_week"),key:"Previous Week"},{label:l("dateRange.previous_month"),key:"Previous Month"},{label:l("dateRange.previous_quarter"),key:"Previous Quarter"},{label:l("dateRange.previous_year"),key:"Previous Year"},{label:l("dateRange.custom"),key:"Custom"}]),r=k(M[2]);let b=k(null),D=k(null),Y=k(new Date);const e=V({from_date:o().startOf("month").toString(),to_date:o().endOf("month").toString()}),g=B(()=>b.value),n=B(()=>h.selectedCompany),O=B(()=>`${D.value}?from_date=${o(e.from_date).format("YYYY-MM-DD")}&to_date=${o(e.to_date).format("YYYY-MM-DD")}`);j(Y,t=>{e.from_date=o(t).startOf("year").toString(),e.to_date=o(t).endOf("year").toString()}),L(()=>{D.value=`/reports/profit-loss/${n.value.unique_hash}`,b.value=O.value});function d(t,s){return o()[t](s).format("YYYY-MM-DD")}function u(t,s){return o().subtract(1,s)[t](s).format("YYYY-MM-DD")}function T(){switch(r.value.key){case"Today":e.from_date=o().format("YYYY-MM-DD"),e.to_date=o().format("YYYY-MM-DD");break;case"This Week":e.from_date=d("startOf","isoWeek"),e.to_date=d("endOf","isoWeek");break;case"This Month":e.from_date=d("startOf","month"),e.to_date=d("endOf","month");break;case"This Quarter":e.from_date=d("startOf","quarter"),e.to_date=d("endOf","quarter");break;case"This Year":e.from_date=d("startOf","year"),e.to_date=d("endOf","year");break;case"Previous Week":e.from_date=u("startOf","isoWeek"),e.to_date=u("endOf","isoWeek");break;case"Previous Month":e.from_date=u("startOf","month"),e.to_date=u("endOf","month");break;case"Previous Quarter":e.from_date=u("startOf","quarter"),e.to_date=u("endOf","quarter");break;case"Previous Year":e.from_date=u("startOf","year"),e.to_date=u("endOf","year");break}}async function P(){let t=await f();return window.open(g.value,"_blank"),t}function f(){return b.value=O.value,!0}function R(){f(),window.open(g.value+"&download=true"),setTimeout(()=>{b.value=O.value},200)}return(t,s)=>{const C=m("BaseMultiselect"),w=m("BaseInputGroup"),$=m("BaseDatePicker"),p=m("BaseButton"),y=m("BaseIcon");return I(),F("div",pe,[c("div",fe,[a(w,{label:t.$t("reports.profit_loss.date_range"),class:"col-span-12 md:col-span-8"},{default:i(()=>[a(C,{modelValue:r.value,"onUpdate:modelValue":[s[0]||(s[0]=_=>r.value=_),T],options:M,"value-prop":"key","track-by":"key",label:"label",object:""},null,8,["modelValue","options"])]),_:1},8,["label"]),c("div",_e,[a(w,{label:t.$t("reports.profit_loss.from_date")},{default:i(()=>[a($,{modelValue:e.from_date,"onUpdate:modelValue":s[1]||(s[1]=_=>e.from_date=_)},null,8,["modelValue"])]),_:1},8,["label"]),be,a(w,{label:t.$t("reports.profit_loss.to_date")},{default:i(()=>[a($,{modelValue:e.to_date,"onUpdate:modelValue":s[2]||(s[2]=_=>e.to_date=_)},null,8,["modelValue"])]),_:1},8,["label"])]),a(p,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:N(f,["prevent"])},{default:i(()=>[W(x(t.$t("reports.update_report")),1)]),_:1},8,["onClick"])]),c("div",ye,[c("iframe",{src:g.value,class:"hidden w-full h-screen border-gray-100 border-solid rounded md:flex"},null,8,ke),c("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:P},[a(y,{name:"DocumentTextIcon",class:"h-5 mr-2"}),c("span",null,x(t.$t("reports.view_pdf")),1)])])])}}},he={class:"grid gap-8 md:grid-cols-12 pt-10"},ge={class:"col-span-8 md:col-span-4"},Ye={class:"flex flex-col mt-6 lg:space-x-3 lg:flex-row"},De=c("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1),we={class:"col-span-8"},Me=["src"],Re={__name:"TaxReport",setup(U){const v=q();v.downloadReport=R;const{t:h}=H.useI18n(),l=V([{label:h("dateRange.today"),key:"Today"},{label:h("dateRange.this_week"),key:"This Week"},{label:h("dateRange.this_month"),key:"This Month"},{label:h("dateRange.this_quarter"),key:"This Quarter"},{label:h("dateRange.this_year"),key:"This Year"},{label:h("dateRange.previous_week"),key:"Previous Week"},{label:h("dateRange.previous_month"),key:"Previous Month"},{label:h("dateRange.previous_quarter"),key:"Previous Quarter"},{label:h("dateRange.previous_year"),key:"Previous Year"},{label:h("dateRange.custom"),key:"Custom"}]),M=k(l[2]),r=V({from_date:o().startOf("month").format("YYYY-MM-DD").toString(),to_date:o().endOf("month").format("YYYY-MM-DD").toString()});let b=k(null);const D=B(()=>b.value),Y=E(),e=B(()=>Y.selectedCompany);let g=k(null);L(()=>{g.value=`/reports/tax-summary/${e.value.unique_hash}`,b.value=n.value});const n=B(()=>`${g.value}?from_date=${o(r.from_date).format("YYYY-MM-DD")}&to_date=${o(r.to_date).format("YYYY-MM-DD")}`);let O=k(new Date);j(O.value,t=>{r.from_date=o(t).startOf("year").toString(),r.to_date=o(t).endOf("year").toString()});function d(t,s){return o()[t](s).format("YYYY-MM-DD")}function u(t,s){return o().subtract(1,s)[t](s).format("YYYY-MM-DD")}function T(){switch(M.value.key){case"Today":r.from_date=o().format("YYYY-MM-DD"),r.to_date=o().format("YYYY-MM-DD");break;case"This Week":r.from_date=d("startOf","isoWeek"),r.to_date=d("endOf","isoWeek");break;case"This Month":r.from_date=d("startOf","month"),r.to_date=d("endOf","month");break;case"This Quarter":r.from_date=d("startOf","quarter"),r.to_date=d("endOf","quarter");break;case"This Year":r.from_date=d("startOf","year"),r.to_date=d("endOf","year");break;case"Previous Week":r.from_date=u("startOf","isoWeek"),r.to_date=u("endOf","isoWeek");break;case"Previous Month":r.from_date=u("startOf","month"),r.to_date=u("endOf","month");break;case"Previous Quarter":r.from_date=u("startOf","quarter"),r.to_date=u("endOf","quarter");break;case"Previous Year":r.from_date=u("startOf","year"),r.to_date=u("endOf","year");break}}async function P(){let t=await f();return window.open(D.value,"_blank"),t}function f(){return b.value=n.value,!0}function R(){f(),window.open(D.value+"&download=true"),setTimeout(()=>{b.value=n.value},200)}return(t,s)=>{const C=m("BaseMultiselect"),w=m("BaseInputGroup"),$=m("BaseDatePicker"),p=m("BaseButton"),y=m("BaseIcon");return I(),F("div",he,[c("div",ge,[a(w,{label:t.$t("reports.taxes.date_range"),class:"col-span-12 md:col-span-8"},{default:i(()=>[a(C,{modelValue:M.value,"onUpdate:modelValue":[s[0]||(s[0]=_=>M.value=_),T],options:l,"value-prop":"key","track-by":"key",label:"label",object:""},null,8,["modelValue","options"])]),_:1},8,["label"]),c("div",Ye,[a(w,{label:t.$t("reports.taxes.from_date")},{default:i(()=>[a($,{modelValue:r.from_date,"onUpdate:modelValue":s[1]||(s[1]=_=>r.from_date=_)},null,8,["modelValue"])]),_:1},8,["label"]),De,a(w,{label:t.$t("reports.taxes.to_date")},{default:i(()=>[a($,{modelValue:r.to_date,"onUpdate:modelValue":s[2]||(s[2]=_=>r.to_date=_)},null,8,["modelValue"])]),_:1},8,["label"])]),a(p,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:N(f,["prevent"])},{default:i(()=>[W(x(t.$t("reports.update_report")),1)]),_:1},8,["onClick"])]),c("div",we,[c("iframe",{src:D.value,class:"hidden w-full h-screen border-gray-100 border-solid rounded md:flex"},null,8,Me),c("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:P},[a(y,{name:"DocumentTextIcon",class:"h-5 mr-2"}),c("span",null,x(t.$t("reports.view_pdf")),1)])])])}}},Ae={__name:"Index",setup(U){const v=q();function h(){v.downloadReport()}return(l,M)=>{const r=m("BaseBreadcrumbItem"),b=m("BaseBreadcrumb"),D=m("BaseIcon"),Y=m("BaseButton"),e=m("BasePageHeader"),g=m("BaseTab"),n=m("BaseTabGroup"),O=m("BasePage");return I(),J(O,null,{default:i(()=>[a(e,{title:l.$tc("reports.report",2)},{actions:i(()=>[a(Y,{variant:"primary",class:"ml-4",onClick:h},{left:i(d=>[a(D,{name:"DownloadIcon",class:K(d.class)},null,8,["class"])]),default:i(()=>[W(" "+x(l.$t("reports.download_pdf")),1)]),_:1})]),default:i(()=>[a(b,null,{default:i(()=>[a(r,{title:l.$t("general.home"),to:"/admin/dashboard"},null,8,["title"]),a(r,{title:l.$tc("reports.report",2),to:"/admin/reports",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),a(n,{class:"p-2"},{default:i(()=>[a(g,{title:l.$t("reports.sales.sales"),"tab-panel-container":"px-0 py-0"},{default:i(()=>[a(ne,{ref:"report"},null,512)]),_:1},8,["title"]),a(g,{title:l.$t("reports.profit_loss.profit_loss"),"tab-panel-container":"px-0 py-0"},{default:i(()=>[a(ve,{ref:"report"},null,512)]),_:1},8,["title"]),a(g,{title:l.$t("reports.expenses.expenses"),"tab-panel-container":"px-0 py-0"},{default:i(()=>[a(ce,{ref:"report"},null,512)]),_:1},8,["title"]),a(g,{title:l.$t("reports.taxes.taxes"),"tab-panel-container":"px-0 py-0"},{default:i(()=>[a(Re,{ref:"report"},null,512)]),_:1},8,["title"])]),_:1})]),_:1})}}};export{Ae as default};
